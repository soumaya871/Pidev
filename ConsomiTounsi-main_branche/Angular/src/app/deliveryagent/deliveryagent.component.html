<h1>hello</h1>
<div class ="container">
    <div class="card">

    <!-- The Modal -->
    <div class="modal" id="myModal" [ngClass]="{'show':showModal}">
      <div class="modal-dialog">
        <div class="modal-content">
    
          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title">Create DeliveryAgent</h4>
            <button type="button" class="close" (click)="showModal=false" data-dismiss="modal">&times;</button>
          </div>
    
          <!-- Modal body -->
          <div class="modal-body">
            <div [hidden]="submitted" style="width: 400px;">
              <fieldset>
              <form (ngSubmit)="onSubmit()">
                <div class="form-row">
                  <label for="name">First Name :</label>
                  <input type="text" class="form-control" id="firstName" placeholder="FirstName" required [(ngModel)]="deliveryagent.firstName" name="firstName" required ngModel #f="ngModel">               
                </div>
                <div class="alert alert-danger" *ngIf="f.invalid && f.touched">
                  the firstName is a required field
                </div>
            
                <div class="form-row">
                  <label for="name">Last Name :</label>
                  <input type="text" class="form-control" id="lastName" placeholder="LastName" required [(ngModel)]="deliveryagent.lastName" name="lastName" required ngModel #l="ngModel">
                </div>
                <div class="alert alert-danger" *ngIf="l.invalid && l.touched">
                  the lastName is a required field
                </div>
               
               
                <div class="form-row">
                  <label for="name">Email :</label>
                  <input type="text" class="form-control" id="email" placeholder="Email" required [(ngModel)]="deliveryagent.email" name="email" required ngModel #e="ngModel" pattern="[a-zA-Z0-9]+.[a-zA-Z0-9]+@[a-zA-Z0-9]+.[a-zA-Z0-9]{2,4}">
                </div>
                <div class="alert alert-danger" *ngIf="e.invalid && e.touched">
                 <div  *ngIf="e.errors.required"> the email is a required field</div>
                 <div  *ngIf="e.errors.pattern"> the email doesn't seem right </div>
                </div>
            
                <div class="form-row">
                    <label for="name">Salary :</label>
                    <input type="number" class="form-control" id="salary"  placeholder="Salary" required [(ngModel)]="deliveryagent.salary" name="salary" required ngModel #s="ngModel">
                  </div>
                  <div class="alert alert-danger" *ngIf="s.invalid && s.touched">
                    the salary is a required field
                  </div>
            
                  <div class="form-row">
                    <label for="name">DeliveryNbre :</label>
                    <input type="number" class="form-control" id="deliveryNbre"  placeholder="DeliveryNbre" required [(ngModel)]="deliveryagent.deliveryNbre" name="deliveryNbre" required ngModel #dn="ngModel">
                  </div>
                  <div class="alert alert-danger" *ngIf="dn.invalid && dn.touched">
                    the deliveryNbre is a required field
                  </div>
            
                  <div class="form-row">
                    <label for="name"> Lattitude :</label>
                    <input type="text" class="form-control" id="lattitude"  placeholder="Lattitude" required [(ngModel)]="deliveryagent.lattitude" name="lattitude" required ngModel #la="ngModel">
                  </div>
                  <div class="alert alert-danger" *ngIf="la.invalid && la.touched">
                    the lattitude is a required field
                  </div>
            
                  <div class="form-row">
                    <label for="name"> Longitude : </label>
                    <input type="text" class="form-control" id="longitude"placeholder="Longitude" required [(ngModel)]="deliveryagent.longitude" name="longitude" required ngModel #lo="ngModel">
                  </div>
                  <div class="alert alert-danger" *ngIf="lo.invalid && lo.touched">
                    the longitude is a required field
                  </div>
            
                  <div class="form-row">
                    <label for="name"> StateLivreur : </label>
                    <input type="text" class="form-control" id="stateLivreur" placeholder="StateLivreur" required [(ngModel)]="deliveryagent.stateLivreur" name="stateLivreur" required ngModel #st="ngModel">
                  </div>
                  <div class="alert alert-danger" *ngIf="st.invalid && st.touched">
                    the stateLivreur is a required field
                  </div>
            
                <button type="submit" class="btn btn-success" [disabled]="f.invalid || l.invalid || e.invalid || s.invalid || dn.invalid || la.invalid || lo.invalid || st.invalid">Submit</button>
              </form>
            </fieldset>
            </div>
            
          </div>
    
          <!-- Modal footer -->
          <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="showModal=false" >Close</button>
            <div [hidden]="!submitted">
              <h4>You submitted successfully!</h4>
              <!-- <button class="btn btn-success" (click)="newDeliveryAgent()">Add</button> -->
            </div>
          </div>
    
        </div>
      </div>
    </div>

     





       
        <button type="button" class="btn btn-primary" (click)="showModal=true" data-toggle="modal" data-target="#myModal">
          Add 
         </button>
        


        <h3 class="text-center">DeliveryAgents List</h3>
        <div class="card-body">
            <form>
                <div class="form-group">
                    <label >Search:</label> 
                    <input  type="number" name="id"  [(ngModel)]="idLivreur " [(ngModel)]="salaire" >
                </div>
            </form>
        
            <table class="table table-bordered"  >
                <thead>
                    
                    <th>Fist Name:</th>
                    <th>Last Name:</th>
                    <th>Email:</th>
                    <th>Salary:</th>
                    <th>DeliveryNbre:</th>
                    <th>Lattitude:</th>
                    <th>Longitude:</th>
                    <th>StateLivreur:</th>
                </thead>
                <tbody *ngFor = "let DeliveryAgent of deliveryagents">
                    <tr *ngIf = "DeliveryAgent.id==idLivreur || idLivreur==null || DeliveryAgent.salary < salaire " >
                        
                      
                        <td>{{DeliveryAgent.firstName}}</td>
                        <td>{{DeliveryAgent.lastName}}</td>
                        <td>{{DeliveryAgent.email}}</td>
                        <td>{{DeliveryAgent.salary}}</td>
                        <td>{{DeliveryAgent.deliveryNbre}}</td>
                        <td>{{DeliveryAgent.lattitude}}</td>
                        <td>{{DeliveryAgent.longitude}}</td>
                        <td>{{DeliveryAgent.stateLivreur}}</td>
                        <td ><button class="btn btn-danger" (click)="DeleteDeliveryAgent(DeliveryAgent.id)">Delete</button> </td>

                    </tr>
                   
                
                  </tbody>
            </table>
            
        </div>

        <h3 class="text-center"> Best DeliveryAgent </h3>
        <div class="card-body">
         
            <button class="btn btn-info" (click)="Bestlivreur()">DisplayBestLivreur</button>

       
           
                <tr *ngFor = "let DeliveryAgent of bestdeliveryagent">
                        
                          
                        <td>FirstName:{{DeliveryAgent.firstName}}</td><br/>&nbsp; 
                        <td>LastName:{{DeliveryAgent.lastName}}</td><br/>&nbsp; 
                        <td>DeliveryNbre:{{DeliveryAgent.deliveryNbre}}</td><br/>&nbsp;
                  </tr>
            
        </div>



        <h3 class="text-center"> DeliveryAgent disponible </h3>
        <div class="card-body">
            <button class="btn btn-info" (click)="Livreurdispo()">DisplayLivreurdispo</button>

       
            <table class="table table-bordered"  >
                <thead>
                    <th>Id</th>
                    <th>Fist Name:</th>
                    <th>Last Name:</th>
                    <th>DeliveryNbre:</th>
                </thead>
                <tbody *ngFor = "let DeliveryAgent of deliveryagentdispo">
                        
                        <td>{{DeliveryAgent.id}}</td> 
                        <td>{{DeliveryAgent.firstName}}</td>
                        <td>{{DeliveryAgent.lastName}}</td>
                        <td>{{DeliveryAgent.deliveryNbre}}</td>
                  </tbody>
            </table>
        </div>
        

    </div>
</div>